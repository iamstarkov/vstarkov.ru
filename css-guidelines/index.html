<!--[if lt IE 7]>     <html class="no-js lt-ie9 lt-ie8 lt-ie7" dir="LTR" lang="ru"><![endif]-->
<!--[if IE 7]>        <html class="no-js lt-ie9 lt-ie8"        dir="LTR" lang="ru"><![endif]-->
<!--[if IE 8]>        <html class="no-js lt-ie9"               dir="LTR" lang="ru"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"                      dir="LTR" lang="ru"><!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title>CSS советы и рекомендации</title>
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width">

	<link href="/css/reset.css"  rel="stylesheet" />
	<link href="/css/layout.css" rel="stylesheet" />
	<link href="/css/meslo.css"  rel="stylesheet" />

	<meta name="google-site-verification" content="4PlN84dxYDr1rBQdoph2v-F2fbnMx4oMCXnf97CltgU" />

	<script src="//ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.0.6-development-only.js"> </script>
</head>
<body>

<div id="skip-links">
	<a href="#main" title="Skip to content area">Skip to content area</a>
</div>

<div class="wrap">
	<!-- HEADER -->
	<header>
		<a href="/" class="logo">
			Владимир Старков
		</a>
	</header>
	<!-- /HEADER -->

	<div class="main_wrap">
		<article>
	<div class="content">
		<h1 id='css___'>CSS советы и рекомендации</h1>

<p>В начале каждого CSS файла создаётся и поддерживается список содержимого документа, указывающий на разделы файла стилей. Название разделов имеет префикс из <code>$</code>, что означает поиск по фразе <code>$[раздел]</code> вернёт только блок относящийся к секции.</p>

<h2 id='__'>Синтаксис и форматирование</h2>

<p>Мы используем многострочную запись для улучшения последующей работы с системой контроля версий (выявление различий сделанных в одной строке — это тихий ужас), мы упорядочиваем логические свойства и селекторы по группам, а <strong>не</strong> по алфавиту.</p>

<p>Мы пишем селекторы в нижнем регистре и разделяем слова дефисом: <code>.thisIsBad {}</code>, <code>.this_is_also_bad {}</code> but <code>.this-is-correct {}</code>.</p>

<p>Всегда заканчивайте строку последнего правила в селекторе символом &#8217;;&#8217;, чтобы избежать возможных конфликтов и синтаксических ошибок во время всего использования документа.</p>

<p>Для примера предпочитаемого форматирования и структуры CSS просто посмотрите файл <a href='http://github.com/csswizardry/vanilla/blob/master/css/style.css'>github.com/csswizardry/vanilla/&#8230;/style.css</a></p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://coding.smashingmagazine.com/2011/08/26/writing-css-for-others'>coding.smashingmagazine.com/&#8230;/writing-css-for-others</a></li>

<li><a href='http://jasoncale.com/articles/5-dont-format-your-css-onto-one-line'>jasoncale.com/&#8230;/5-dont-format-your-css-onto-one-line</a></li>
</ul>

<h2 id='id696'>Комментарии</h2>

<p>Комментируйте так много и так часто, насколько вы вообще можете это делать. Если это может понадобиться, то включите в комментарий блок кода разметки, помогающий понять в каком контексте находятся стили.</p>

<p>Будьте многословны, не стесняйтесь: CSS будет уменьшен при выкладывании на рабочий сервер.</p>

<h2 id='id697'>Отступы</h2>

<p>Для каждого уровня вложенности разметки пытайтесь делать соответствующие отступы в стилях. Например:</p>

<pre><code>.nav {}
    .nav li {}
        .nav a {}
        
.promo {}
    .promo p {}</code></pre>

<p>Также пишите вендорные префиксы так, чтобы значения были в одном столбике, то есть:</p>

<pre><code>-webkit-border-radius: 4px;
   -moz-border-radius: 4px;
        border-radius: 4px;</code></pre>

<p>Это позволяет нам сразу увидеть, что все свойства установлены в <code>4px</code>, но что более важно — так это то, что если наш редактор поддерживает режим редактирования столбцов, то мы можем менять значение сразу во всей колонке значений в один момент.</p>

<h2 id='_'>Создание компонента</h2>

<p>При создании нового компонента пишите разметку <strong>до того</strong>, как напишите хоть одну строчку CSS. Это позволяет увидеть какие свойства наследовались и избежать повторного применения избыточных стилей.</p>

<h2 id='oocss'>OOCSS</h2>

<p>При создании компонента старайтесь не повторять себя, также не упускайте из виду принципы OOCSS.</p>

<p>Вместо того, чтобы плодить множество уникальных компонентов, попытайтесь распознать повторяющиеся шаблоны дизайна и создать из них абстракции; cверстайте эти абстракции, а затем используйте уточняющие классы для расширения их внешнего оформления.</p>

<p>Если вы вынуждены создать новый компонент, то разделите его на структуру и декоративное оформление; сверстайте структуру используя общие классы, тем самым давая возможность использования структуры компонента в других местах вашего проекта, и затем, используя более специфичные классы, оформите компонент в соответствии с требованиями дизайна.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://csswizardry.com/2011/09/the-nav-abstraction'>csswizardry.com/&#8230;/the-nav-abstraction</a></li>

<li><a href='http://stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code'>stubbornella.org/&#8230;/the-media-object-saves-hundreds-of-lines-of-code</a></li>
</ul>

<h2 id='id698'>Раскладка</h2>

<p>Все компоненты должны быть полностью независимы от ширины; ваши компоненты должны оставаться резиновыми и их ширина должна контролироваться системой модульных сеток.</p>

<p>Высота <strong>никогда</strong> не должна назначаться элементам. Высота применяется только на сущности, имевшие размеры <em>до того</em>, как попали на сайт (например, картинки и спрайты). Никогда не устанавливайте высоту на <code>p</code>, <code>ul</code>, <code>div</code>, вообще что угодно. Вы можете добить желаемого эффекта с помощью гораздо более гибкого <code>line-height</code>.</p>

<p>Систему модульных сеток следует рассматривать, как структуру сайта. Вы создаёте структуру сайта, а затем наполняете её информацией.</p>

<p>Вы никогда не должны применять никаких стилей на ячейку сетки, так как они служат только целям разметки. Никогда, ни при каких обстоятельствах не применяйте свойства меняющие поведение <code>box-model</code> к ячейкам сетки.</p>

<h2 id='id699'>Размеры</h2>

<p>Мы используем различные методы для задания размеров интерфейса: проценты, пиксели, <code>ems</code>, <code>rems</code> или вообще не задаем единицы измерения.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://csswizardry.com/2011/12/measuring-and-sizing-uis-2011-style'>csswizardry.com/&#8230;/measuring-and-sizing-uis-2011-style</a></li>
</ul>

<h2 id='_'>Размеры текста</h2>

<p>Мы используем <code>rems</code> (c запасным решением с помошью пикселей только для старых браузеров). Категорически отказывайтесь от пикселей в <code>font-size</code> как это делают обычно. Мы определяем <code>line-height</code> без определения размерностей везде, <strong>кроме</strong> тех случаев когда позиционируем текст в заранее известной высоте.</p>

<p>Мы избегаем многоразового определения <code>font-size</code>; для достижения той же цели мы используем предопределённые размеры шрифтов разбитые по классам. Мы можем переделать оригинальные классы вместо определения <code>font-size</code> снова и снова.</p>

<p>Перед тем как задать элементу <code>font-size</code>, убедитесь что класс с заданным значением ещё не существует.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://csswizardry.com/2012/02/pragmatic-practical-font-sizing-in-css'>csswizardry.com/&#8230;/pragmatic-practical-font-sizing-in-css</a></li>
</ul>

<h2 id='_'>Сокращённая запись</h2>

<p>Это может показаться заманчивым использовать правила похожие на <code>background: red;</code> но делая это, мы на самом деле говорим: «Я хочу, чтобы фоном была не одна картинка скролящуюся, спозиционированную вверх и влево и повторяющуюся по X и Y и чтобы цвет фона был красный». В девяти случаях из десяти это не высовет никаких проблем, но в 10% обязательно доставит достаточно неприятностей, чтобы не использовать сокращенные записи. Вместо этого используйте <code>background-color: red;</code>.</p>

<p>Например, ситуация с правилом <code>margin: 0;</code> — оно ясное и короткое, но черезчур <strong>специфичное</strong>. Если вы на самом деле хотите сделать отступ снизу от элемента, то гораздо более подходящим будет использовать <code>margin-bottom: 0;</code>.</p>

<p>Старайтесь сохранять чёткое представление о свойствах, которые вы устанавливаете и следите за тем, чтобы случайно не сбросить свойства других элементов, используя сокращенную запись. Например, если вы хотите сбросить нижний отступ, то нет никакой необходимости в агрессивном сбрасывании всех отступов с помощью <code>margin: 0;</code>.</p>

<p>Сокращённая запись сама по себе хороша, но легко используется неправильно.</p>

<h2 id='id700'>Селекторы</h2>

<p>Сохраняйте селекторы эффективными, рациональными и переносимыми.</p>

<p>Тяжелые, глубоко вложенные селекторы никуда не годятся по ряду причин. Например возьмем <code>.sidebar h3 span {}</code>. Этот селектор основан на вложении и поэтому нет возможности переместить <code>span</code> из <code>h3</code> и из <code>.sidebar</code> — следовательно, нет возможности обеспечить поддержку стилей на должном уровне.</p>

<p>Слишком длинные селекторы также вызывают проблемы производительности; чем больше проверок в селекторе (например селекторе <code>.sidebar h3 span</code> имеет три проверки, а <code>.content ul p a</code> — четыре), тем больше работы выполняет браузер.</p>

<p>Старайтесь следить, чтобы ваши стили не зависели от вложенности, где это только возможно, а также что ваши селекторы были короткими и легко воспринимаемыеми.</p>

<p><strong>Запомните:</strong> Классы на самом деле ни семантичны, ни не семантичны; Они применимы или нет! Перестаньте беспокоиться о «семантике» имён классов и выберите что-нибудь удобное в применении, с расчётом на дальнейшее использование.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://speakerdeck.com/u/csswizardry/p/breaking-good-habits'>speakerdeck.com/&#8230;/breaking-good-habits</a></li>

<li><a href='http://csswizardry.com/2011/09/writing-efficient-css-selectors'>csswizardry.com/&#8230;/writing-efficient-css-selectors</a></li>
</ul>

<h2 id='__'>Слишком специфичные селекторы</h2>

<p>Гиперспецифичный селектор это один из ряда <code>div.promo</code>. Скорее всего мы можем достичь тот же самый эффект, используя лишь <code>.promo</code>. Конечно, иногда мы <em>хотим</em> определить класс в зависимости от элемента (например, если у вас есть общий класс <code>.error</code>, который должен выглядеть по разному на разных элементах (например, <code>.error { color: red; }</code> <code>div.error { padding: 14px; }</code>)), но по возможности избегайте этого, где это только возможно.</p>

<p>Другим примером слишком специфичного селектора может быть <code>ul.nav li a {}</code>. Как описано выше мы сразу можем выкинуть <code>ul</code>, и так как мы знаем, что <code>.nav</code> это список, то ссылка будет вложена только в <code>li</code>, поэтому мы можем сократить <code>ul.nav li a {}</code> до <code>.nav a</code>.</p>

<h2 id='id701'>Производительность</h2>

<p>Хоть это и правда, что браузеры только улучшают свои показатели в скорости рендеринга CSS, «Эффективность» — это то, на чём мы можем быть сфокусированы всегда. Короткие селекторы, неиспользование универсального (<code>* {}</code>) селектора и избегание больших комбинаций CSS3 селекторов должно помочь обойти проблемы производительности.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://csswizardry.com/2011/09/writing-efficient-css-selectors'>csswizardry.com/…/writing-efficient-css-selectors</a></li>
</ul>

<h2 id='______'>Будьте точны, не делайте обобщений и предположений</h2>

<p>Вместо использования селекторов спускающихся по всему DOM-дереву, чаще удобнее добавить требуемому элементу класс. Давайте рассмотрим конкретный пример.</p>

<p>Представьте себе промо баннер с классом <code>.promo</code> с текстом внутри и ссылкой призывающей к действию (призывная, далее по тексту). Если будет только один <code>a</code> во всем <code>.promo</code> то можно стилизовать «призывную» ссылку с помощью <code>.promo a {}</code>.</p>

<p>Проблема станет очевидна так скоро, как вы добавите простую текстовую ссылку (или любую другую ссылку) в <code>.promo</code> контейнер; только что добавленная ссылка унаследует стили от «призывной» ссылки в независимости от того, хотите вы этого или нет. В этой ситуации будет лучше добавить точный класс (например <code>.cta</code> — аббр. от ‘call-to-action’) ссылке, которую вы хотите стилизовать.</p>

<p>Будьте точны, конкретны; указывайте именно тот элемент, который вам нужен, не его родитель. Никогда не предполагайте, что разметка будет неизменной.</p>

<h2 id='_____________'>Ключевой селектор никогда (как правило) не должен быть селектором тега или основным классом компонента/абстракции</h2>

<p>Вы никогда не должны обнаружить себя пишущим селектор, в котором ключевое значение имеет селектор по тегу (например, <code>.header ul {}</code>) или базовый компонент (например, <code>.header .nav {}</code>). Так как вы никогда не сможете гарантировать, что будет только один <code>ul</code> или один <code>.nav</code> в контейнере <code>.header</code>, ключевой селектор слишком расплывчатый.</p>

<p>Будет правильнее задать элементу класс, отвечающий на вопрос, что это за элемент — класс указывающий на него и только на него, итак <code>.header .nav {}</code> может быть заменен на <code>.site-nav</code>.</p>

<p>Единственное, когда селектор по тегу может быть востребован, это когда ситуация похожа на ту, что описана ниже:</p>

<pre><code>a {
    color:red;
}
.promo {
    background-color: red; 
    color: white;
}
    .promo a {
        color: white;
    }</code></pre>

<p>В данном случае вы <em>знаете</em>, что каждый <code>a</code> в <code>.promo</code> нуждается в пустом правиле, так как в противном случае будет нечитабельным.</p>

<p><strong>Пишите селекторы, указывающие на желаемые элементы, а не на те элементы, что уже оказались в разметке.</strong></p>

<h2 id='_id__'>Идентификаторы (ID) и классы</h2>

<p>Никогда не используйте ID в CSS, <strong>абсолютно никогда</strong>. Они могут быть использованы в вашей разметке, только для джаваскрипта или обозначения секций документа (fragment-identifiers). Для стилизации используйте только классы. Ни один ID не должен существовать в ваших стилях.</p>

<p>Классы предоставляют возможность повторного использования (даже если мы не хотим, но всё равно мы можем) и имеют низкую специфичность, что тоже очень удобно.</p>

<p><strong>К прочтению:</strong></p>

<ul>
<li><a href='http://csswizardry.com/2011/09/when-using-ids-can-be-a-pain-in-the-class'>csswizardry.com/&#8230;/when-using-ids-can-be-a-pain-in-the-class</a></li>
</ul>

<h2 id='id702'><code>!important</code></h2>

<p>Допустимо использовать <code>!important</code> только на вспомогательных классах. Превентивно добавлять <code>!important</code> удобно и полезно, например если вы знаете, что селектор <code>.error { color: red !important; }</code> всегда должен нуждаетсяв наибольшем приоритете.</p>

<p>Не приветствуется использование <code>!important</code> для исправления ошибок, например, чтобы помочь выбраться себе из ситуации с запутанной специфичностью. Переработайте ваш CSS и старайтесь избегать этих проблем рефакторингом ваших селекторов. Сохраняйте ваши селекторы короткими, откажитесь от ID — и ваша жизнь станет проще.</p>

<h2 id='____'>Магические числа и абсолютные значения</h2>

<p>Магическое число — число используемое лишь потому, что «это просто работает». Это порочная практика, так как очень редко она работает по какой-либо реальной причине и обычно достаточно недальновидна, негибка и причина самого числа вероятнее всего забудется. Магические числа устраняют симптомы, но не никак не влиют на проблему.</p>

<p>Например, использование правила <code>.dropdown-nav li:hover ul { top: 37px; }</code> для сдвига выпадающего пункта меню вниз при наведении на родителя <code>li</code> не принесёт ничего хорошего, так как 37px магическое число. 37px работает только потому, что в этом конретном сценарии (конкретный сайт в определённое время) меню оказалось высотой в 37px.</p>

<p>Вместо этого мы должны использовать <code>.dropdown-nav li:hover ul { top: 100%; }</code>, что означает без разницы какой высоты будет <code>dropdown-nav</code> меню, выпадающий пункт меню всегда будет сдвинут на 100% от верхней границы родителя.</p>

<p>Каждый раз, когда вы жестко задаёте число подумайте дважды; если вы можете избежать этого, используя ключевые слова или синонимы (например, <code>top: 100%</code> — сдвинуть на 100% от верха) или — даже лучше — не используя никаких элементов измерений, то вы должны избежать использования жестко заданного числа.</p>

<p>Каждое установленное вами числовое значение, скорее всего было необязательным.</p>

<h2 id='conditional_stylesheets'>(Conditional stylesheets)</h2>

<p>Использование файлов стилей по большому счёту можно избежать. Исключением может быть необходимость восполнить недостаточную поддержку (например, PNG с альфа–каналом в IE6).</p>

<p>Главное правило: вся разметка и <code>box-model</code> правила могут и <em>будут</em> работать без дополнительных файлов стилей, если вы отрефакторите ваш CSS. Это означает, что мы никогда не будем рады, если увидим <code>&lt;!--[if IE 7]&gt; element{ margin-left:-9px; } &lt; ![endif]--&gt;</code> или любой подобный CSS, используемый лишь для того, чтобы «заставить что-то работать правильно».</p>

<h2 id='id703'>Отладка</h2>

<p>Если вы столкнулись с проблемой в CSS, то <strong>удаляйте куски кода, до того как начать добавлять правила ещё</strong> в попытке решить проблему. Проблема кроется в уже написанном CSS, написать ещё больше стилей — не самое верное решение!</p>

<p>Удаляйте куски разметки и стилей, пока проблема не исчезнет, затем определите в какую часть кода закралась проблема.</p>

<p>Это бывает достаточно удобно добавить <code>overflow: hidden;</code> на нужный элемент, чтобы избавиться от результатов кривой вёрстки, но <code>overflow</code> сам по себе никогда не был проблемой; <strong>Исправляйте проблему, а не симптомы.</strong></p>

<h2 id='id704'>Препроцессоры</h2>

<p>Следуя предыдущим советам, вы возможно обнаружите улетучивающуюся потребность в препроцессорах. Если вы всё ещё хотите их использовать, то учитывая всё, что было написано, используйте препроцессоры как дополнение к правилам, а не как альтернативу им.</p>

<p>Например, возможность вложенности часто приводит к гипер–специфичным и сильно вложенным селекторам. Давайте рассмотрим наш <code>. nav a {}</code> пример ещё раз:</p>

<pre><code>.nav {
    li {
        a {}
    }
}</code></pre>

<p>Скомпилируется в:</p>

<pre><code>.nav {}
.nav li {}
.nav li a {}</code></pre>

<p>Хотя это и очень маленький пример, но он демонстрирует, что множество встроенных «полезных» фич препроцессоров работают против нас и наших идеалов; <code>.nav li a {}</code> может (и должно) быть <code>.nav a {}</code>.</p>

<p>Также, миксины и похожие них элементы, учат вас запоминать абстракции — что великолепно — но не учат необходимости использовать их правильно; нет никакой необходимости в абстактном миксине, если вы собираетесь использовать его тысячу раз в файле стилей.</p>

<p>Обязательно изучите все тонкости превосходного vanilla CSS и то, где препроцессор может способствовать их использованию, а не препятствовать или отменять их. Изучите недостатки препроцессоров изнутри и затем соедините лучшие стороны обоих, опустив худшие.</p>
<hr />
<p>Перевод <a href='https://github.com/csswizardry/CSS-Guidelines'>рекоммендаций</a> от <a href='http://csswizardry.com/'>@csswizardry</a><br />Присылать исправления можно в <a href='https://github.com/matmuchrapna/CSS-Guidelines'>форк проекта</a> на гитхабе.</p>
	</div>
	<aside class="comments">
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			var disqus_shortname = 'vstarkovru';
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
	</aside>
</article>

	</div>

</div>


<!-- Asynchronous Google Analytics snippet. Change UA-XXXXX-X to be your site's ID.
	 mathiasbynens.be/notes/async-analytics-snippet -->
<script>
	var _gaq=[['_setAccount','UA-33089484-1'],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>